"use scrict";function getParameterByName(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function removeParameterByName(n,t){var r;t||(t=window.location.href);var u=t.split("?")[0],f,i=[],e=t.indexOf("?")!==-1?t.split("?")[1]:"";if(e!==""){for(i=e.split("&"),r=i.length-1;r>=0;r-=1)f=i[r].split("=")[0],f===n&&i.splice(r,1);u=u+"?"+i.join("&")}return u}$(function(){if($('[data-toggle="popover"]').popover(),getParameterByName("nid")!=""&&getParameterByName("nid")!=null){let i=getParameterByName("nid"),n=getParameterByName("nt");window.history.replaceState(null,null,window.location.pathname);let t,r="$$$INVALID$$$";switch(i){case"1":t="Cliente criado com sucesso.";break;case"10":t="Cliente editado com sucesso.";break;case"11":t="O cliente não foi encontrado.";break;case"12":t="O cliente encontra-se inativo.";break;case"2":t="Password alterada com sucesso.";break;case"3":t="Ocorreu um erro ao alterar a password.";break;default:t=r}switch(n){case"a":n="alert";break;case"s":n="success";break;case"w":n="warning";break;case"e":n="error";break;case"i":n="information";break;default:n="information"}i!=r&&new Noty({text:t,type:n,layout:"topRight",timeout:2500,progressBar:!1}).show()}$("#ClientesIndexTable .ClienteColumn").click(function(){if(!$(this).hasClass("disabled")){let n=$(this).attr("data-order"),i=$("#ClientesIndexSearch").val().trim(),t;t=n!="asc"?"asc":"desc";$.ajax({url:"/Clientes/IndexTableData?field=nome&order="+t+"&query="+i,type:"get",beforeSend:function(){$("#ClientesIndexTable tbody").addClass("loading");$("#ClientesIndexTable .ClienteColumn").addClass("disabled")},success:function(t){$("#ClientesIndexTable tbody").html(t);n=="asc"?$("#ClientesIndexTable .ClienteColumn").attr("data-order","desc"):$("#ClientesIndexTable .ClienteColumn").attr("data-order","asc");$("#ClientesIndexTable tbody").removeClass("loading");$("#ClientesIndexTable .ClienteColumn").removeClass("disabled");$("#ClientesIndexTable .ClienteColumn i").hasClass("fa-caret-up")?($("#ClientesIndexTable .ClienteColumn i").removeClass("fa-caret-up"),$("#ClientesIndexTable .ClienteColumn i").addClass("fa-caret-down")):($("#ClientesIndexTable .ClienteColumn i").removeClass("fa-caret-down"),$("#ClientesIndexTable .ClienteColumn i").addClass("fa-caret-up"))}})}});let n;$("#ClientesIndexSearch").on("input",function(){$("#ClientesIndexSearch").val().trim()!=""?$("#ClientesIndexSearchFormGroup .clear").fadeIn(100):$("#ClientesIndexSearchFormGroup .clear").fadeOut(100);window.clearTimeout(n);n=window.setTimeout(function(){let n=$("#ClientesIndexSearch").val().trim(),t=$("#ClientesIndexTable .ClienteColumn").attr("data-order");$.ajax({url:"/Clientes/IndexTableData?field=nome&order="+t+"&query="+n,type:"get",beforeSend:function(){$("#ClientesIndexTable tbody").addClass("loading");$("#ClientesIndexTable .ClienteColumn").addClass("disabled")},success:function(n){$("#ClientesIndexTable tbody").html(n);$("#ClientesIndexTable tbody").removeClass("loading");$("#ClientesIndexTable .ClienteColumn").removeClass("disabled")}})},400)});$(".hidden-text-link").hover(function(){$(this).find(".text").stop().fadeIn(200)},function(){$(this).find(".text").stop().fadeOut(200)});$("#ClientesIndexSearchFormGroup .clear").click(function(){$("#ClientesIndexSearch").val("").trigger("input");$(this).fadeOut(100)});$(".disable-user").click(function(){let n=$(this).data("id");n!=null&&n!=""&&swal({title:"Desativar Cliente",text:"Está prestes a desativar este cliente. <br/>Um cliente inativo não pode ser alterado, não pode ser associado a eventos,não receberá notificações de eventos e quaisquer animais que lhe estejam associados estão igualmente inativos. É possivel reativar um cliente.",type:"warning",html:!0,showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,confirmButtonText:"Desativar",confirmButtonColor:"#dd6777",cancelButtonText:"Cancelar",cancelButtonColor:"#e2e2e2"},function(){$.ajax({url:"/Clientes/DisableCliente",type:"post",data:{Id:n},success:function(n){n==!0?swal({title:"Cliente desativado com sucesso.",type:"success"},function(){window.location.reload(!0)}):swal({title:"Ocorreu um erro",type:"error"})}})})});$(".enable-user").click(function(){let n=$(this).data("id");n!=null&&n!=""&&swal({title:"Ativar Cliente",text:"Está prestes a ativar este cliente. <br/>Ao ser reativado, este cliente pode ser associado a eventos e receberá as suas notificações. <br/>Qualquer animal associado a este cliente que não tenha sido desativado individualmente será reativado.",type:"warning",html:!0,showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,confirmButtonText:"Ativar",confirmButtonColor:"#6fc080",cancelButtonText:"Cancelar",cancelButtonColor:"#e2e2e2"},function(){$.ajax({url:"/Clientes/EnableCliente",type:"post",data:{Id:n},success:function(n){n==!0?swal({title:"Cliente desativado com sucesso.",type:"success"},function(){window.location.reload(!0)}):swal({title:"Ocorreu um erro",type:"error"})}})})})});